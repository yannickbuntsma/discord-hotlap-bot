import { getBotRankingMessage } from './get-bot-ranking-message'

const botMessage = {
  id: '828649930964205648',
  type: 0,
  content: `**### RANKING ###**

  **1. BUN_NL** :first_place:
  \`1.30.054\` | \`------\` | \`------\`

  **2. YB** :second_place:
  \`1.32.140\` | \`+2.086\` | \`+2.086\``,
  channel_id: '824257306971471882',
  author: {
    id: '408607070049402880',
    username: 'DartRalph (=PSN)',
    avatar: '24f9f23d0b28f698c8a4b7eebc1ca033',
    discriminator: '7224',
    public_flags: 0,
  },
  attachments: [
    {
      id: '828649927563018250',
      filename: 'PS_App_20210405_031528.jpeg',
      size: 993009,
      url:
        'https://cdn.discordapp.com/attachments/824257306971471882/828649927563018250/PS_App_20210405_031528.jpeg',
      proxy_url:
        'https://media.discordapp.net/attachments/824257306971471882/828649927563018250/PS_App_20210405_031528.jpeg',
      width: 1920,
      height: 1080,
      content_type: 'image/jpeg',
    },
  ],
  embeds: [],
  mentions: [],
  mention_roles: [],
  pinned: false,
  mention_everyone: false,
  tts: false,
  timestamp: '2021-04-05T15:18:59.113000+00:00',
  edited_timestamp: '2021-04-05T15:19:20.138000+00:00',
  flags: 0,
}

const testData = [
  {
    id: '829810709671968788',
    type: 0,
    content: '1.32,523',
    channel_id: '824257306971471882',
    author: {
      id: '766722023711834152',
      username: 'Frank (Fransk784)',
      avatar: '6de9aa8b5aac095cff7d270511dec2f6',
      discriminator: '9087',
      public_flags: 0,
    },
    attachments: [
      {
        id: '829810705950572605',
        filename: 'IMG_20210408_221002.jpg',
        size: 4517651,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/829810705950572605/IMG_20210408_221002.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/829810705950572605/IMG_20210408_221002.jpg',
        width: 4608,
        height: 3456,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-08T20:11:30.323000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '829810709671968788',
    type: 0,
    content: `I'm a super-fast bot --> 0.00,001'`,
    channel_id: '824257306971471882',
    author: {
      id: '766722023711834152',
      username: 'Mr. Robot',
      avatar: '6de9aa8b5aac095cff7d270511dec2f6',
      discriminator: '9087',
      public_flags: 0,
      bot: true,
    },
    attachments: [
      {
        id: '829810705950572605',
        filename: 'IMG_20210408_221002.jpg',
        size: 4517651,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/829810705950572605/IMG_20210408_221002.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/829810705950572605/IMG_20210408_221002.jpg',
        width: 4608,
        height: 3456,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-08T20:11:30.323000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '829685415626932234',
    type: 0,
    content: '1.30,819',
    channel_id: '824257306971471882',
    author: {
      id: '312539546686586880',
      username: 'Jeffrey/Bigjeff1982',
      avatar: '6249036bd5f6ae69c4d8325deb86dae2',
      discriminator: '9834',
      public_flags: 0,
    },
    attachments: [],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-08T11:53:37.895000+00:00',
    edited_timestamp: null,
    flags: 0,
    reactions: [
      { emoji: { id: null, name: '\ud83d\udcaa' }, count: 1, me: false },
      { emoji: { id: null, name: '\ud83d\udc4c' }, count: 2, me: false },
    ],
  },
  {
    id: '829682427034468413',
    type: 0,
    content: '',
    channel_id: '824257306971471882',
    author: {
      id: '312539546686586880',
      username: 'Jeffrey/Bigjeff1982',
      avatar: '6249036bd5f6ae69c4d8325deb86dae2',
      discriminator: '9834',
      public_flags: 0,
    },
    attachments: [
      {
        id: '829682423444930600',
        filename: 'image0.jpg',
        size: 2891876,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/829682423444930600/image0.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/829682423444930600/image0.jpg',
        width: 4032,
        height: 3024,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-08T11:41:45.359000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '829433029536514048',
    type: 0,
    content: '',
    channel_id: '824257306971471882',
    author: {
      id: '480478603214192641',
      username: 'beemerpower',
      avatar: '67623671730fe99ec4758df04348f20f',
      discriminator: '5463',
      public_flags: 0,
    },
    attachments: [
      {
        id: '829433026093514783',
        filename: '20210407_211008.jpg',
        size: 6199545,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/829433026093514783/20210407_211008.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/829433026093514783/20210407_211008.jpg',
        width: 4032,
        height: 2268,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-07T19:10:44.362000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '829431926417915985',
    type: 0,
    content: 'Ook maar eens een poging gewaagd: 1,326 met aggr  setup.\nLastig karretje die 911',
    channel_id: '824257306971471882',
    author: {
      id: '770952318035951626',
      username: 'Marco/ Westlandlegion',
      avatar: '3db4f0867625e559e2b1f8952b9e22a1',
      discriminator: '4242',
      public_flags: 0,
    },
    attachments: [
      {
        id: '829431922618007602',
        filename: 'image0.jpg',
        size: 5379750,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/829431922618007602/image0.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/829431922618007602/image0.jpg',
        width: 4032,
        height: 3024,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-07T19:06:21.358000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '828990483782303855',
    type: 0,
    content: '1.31.9',
    channel_id: '824257306971471882',
    author: {
      id: '351723605492760577',
      username: 'neonostra',
      avatar: 'd77e45ad72d900c287bb710fa84da127',
      discriminator: '7341',
      public_flags: 0,
    },
    attachments: [
      {
        id: '828990480897015808',
        filename: 'image0.jpg',
        size: 325706,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/828990480897015808/image0.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/828990480897015808/image0.jpg',
        width: 1920,
        height: 1080,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-06T13:52:13.232000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '828958172848455749',
    type: 0,
    content:
      'Dan zal ik ook nog maar wat proberen verbeteren \ud83d\ude04 ik zou naar 29.3 kunnen gaan als ik beste sectoren optel',
    channel_id: '824257306971471882',
    author: {
      id: '388797131860738068',
      username: 'Stammeleer',
      avatar: null,
      discriminator: '7375',
      public_flags: 0,
    },
    attachments: [],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-06T11:43:49.705000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '828955508366639104',
    type: 0,
    content:
      'Al mn snelste sectoren samen kwamen op 28.9 maar daar zat ook wat verschil afstelling in. Ga mn best maar weer doen. Lachen dit!',
    channel_id: '824257306971471882',
    author: {
      id: '614376382704910346',
      username: 'Jan Willem | GTJ-1982',
      avatar: null,
      discriminator: '2011',
      public_flags: 0,
    },
    attachments: [],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-06T11:33:14.443000+00:00',
    edited_timestamp: null,
    flags: 0,
    reactions: [{ emoji: { id: null, name: '\ud83d\udcaa' }, count: 1, me: false }],
  },
  {
    id: '828955233614692362',
    type: 19,
    content: 'Oe lekker man!',
    channel_id: '824257306971471882',
    author: {
      id: '614376382704910346',
      username: 'Jan Willem | GTJ-1982',
      avatar: null,
      discriminator: '2011',
      public_flags: 0,
    },
    attachments: [],
    embeds: [],
    mentions: [
      {
        id: '388797131860738068',
        username: 'Stammeleer',
        avatar: null,
        discriminator: '7375',
        public_flags: 0,
      },
    ],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-06T11:32:08.937000+00:00',
    edited_timestamp: null,
    flags: 0,
    message_reference: {
      channel_id: '824257306971471882',
      guild_id: '305641284557602816',
      message_id: '828955022175109120',
    },
    referenced_message: {
      id: '828955022175109120',
      type: 0,
      content:
        '<@614376382704910346> ik hoop dat jij niet meer veel kan verbeteren want hier heb ik toch heel hard voor moeten pushen \ud83d\ude09 1.29.526',
      channel_id: '824257306971471882',
      author: {
        id: '388797131860738068',
        username: 'Stammeleer',
        avatar: null,
        discriminator: '7375',
        public_flags: 0,
      },
      attachments: [
        {
          id: '828955018995433522',
          filename: 'IMG_20210406_132756.jpg',
          size: 3620455,
          url:
            'https://cdn.discordapp.com/attachments/824257306971471882/828955018995433522/IMG_20210406_132756.jpg',
          proxy_url:
            'https://media.discordapp.net/attachments/824257306971471882/828955018995433522/IMG_20210406_132756.jpg',
          width: 3968,
          height: 2976,
          content_type: 'image/jpeg',
        },
      ],
      embeds: [],
      mentions: [
        {
          id: '614376382704910346',
          username: 'Jan Willem | GTJ-1982',
          avatar: null,
          discriminator: '2011',
          public_flags: 0,
        },
      ],
      mention_roles: [],
      pinned: false,
      mention_everyone: false,
      tts: false,
      timestamp: '2021-04-06T11:31:18.526000+00:00',
      edited_timestamp: null,
      flags: 0,
    },
  },
  {
    id: '828955022175109120',
    type: 0,
    content:
      '<@614376382704910346> ik hoop dat jij niet meer veel kan verbeteren want hier heb ik toch heel hard voor moeten pushen \ud83d\ude09 1.29.526',
    channel_id: '824257306971471882',
    author: {
      id: '388797131860738068',
      username: 'Stammeleer',
      avatar: null,
      discriminator: '7375',
      public_flags: 0,
    },
    attachments: [
      {
        id: '828955018995433522',
        filename: 'IMG_20210406_132756.jpg',
        size: 3620455,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/828955018995433522/IMG_20210406_132756.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/828955018995433522/IMG_20210406_132756.jpg',
        width: 3968,
        height: 2976,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [
      {
        id: '614376382704910346',
        username: 'Jan Willem | GTJ-1982',
        avatar: null,
        discriminator: '2011',
        public_flags: 0,
      },
    ],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-06T11:31:18.526000+00:00',
    edited_timestamp: null,
    flags: 0,
    reactions: [
      { emoji: { id: null, name: '\ud83d\udc4c' }, count: 4, me: false },
      { emoji: { id: null, name: '\ud83d\udc4f' }, count: 1, me: true },
    ],
  },
  {
    id: '828916774161481748',
    type: 0,
    content: '1.33.108 hard werken in de Porsche \ud83d\ude13',
    channel_id: '824257306971471882',
    author: {
      id: '543442052952621086',
      username: 'Alain/Zaliyas',
      avatar: '40f87285444bd37a8457992932ac650d',
      discriminator: '2893',
      public_flags: 0,
    },
    attachments: [
      {
        id: '828916769585758208',
        filename: 'IMG_20210406_105811.jpg',
        size: 4668043,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/828916769585758208/IMG_20210406_105811.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/828916769585758208/IMG_20210406_105811.jpg',
        width: 4000,
        height: 3000,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-06T08:59:19.489000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '828715757248446464',
    type: 0,
    content: '',
    channel_id: '824257306971471882',
    author: {
      id: '480478603214192641',
      username: 'beemerpower',
      avatar: '67623671730fe99ec4758df04348f20f',
      discriminator: '5463',
      public_flags: 0,
    },
    attachments: [
      {
        id: '828715752030601236',
        filename: '20210405_214000.jpg',
        size: 6262986,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/828715752030601236/20210405_214000.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/828715752030601236/20210405_214000.jpg',
        width: 4032,
        height: 2268,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-05T19:40:33.322000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  botMessage,
  {
    id: '828647234413396020',
    type: 0,
    content: '1:32.925',
    channel_id: '824257306971471882',
    author: {
      id: '483322170420756480',
      username: 'DCS_Lionracing(Wim)',
      avatar: '56c82e8947fe725d240a77fd09bc8fae',
      discriminator: '1327',
      public_flags: 0,
    },
    attachments: [
      {
        id: '828647231065948170',
        filename: '20210405_170736.jpg',
        size: 5856272,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/828647231065948170/20210405_170736.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/828647231065948170/20210405_170736.jpg',
        width: 4000,
        height: 3000,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-05T15:08:16.205000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '828615331869229056',
    type: 0,
    content: '1.30.390',
    channel_id: '824257306971471882',
    author: {
      id: '540290060885557269',
      username: 'BUN_NL',
      avatar: '2d39ba3e751b895e3dff93c70caca994',
      discriminator: '7190',
      public_flags: 0,
    },
    attachments: [
      {
        id: '828615329151713300',
        filename: 'image0.jpg',
        size: 1316278,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/828615329151713300/image0.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/828615329151713300/image0.jpg',
        width: 4032,
        height: 3024,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-05T13:01:30.046000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '828593826486550549',
    type: 0,
    content: '1.31.857',
    channel_id: '824257306971471882',
    author: {
      id: '640581908039860235',
      username: 'kevinvde',
      avatar: '651843a353e0b4cdaa0db6f2ea42e564',
      discriminator: '3585',
      public_flags: 0,
    },
    attachments: [],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-05T11:36:02.763000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '828593769175711797',
    type: 0,
    content: '',
    channel_id: '824257306971471882',
    author: {
      id: '640581908039860235',
      username: 'kevinvde',
      avatar: '651843a353e0b4cdaa0db6f2ea42e564',
      discriminator: '3585',
      public_flags: 0,
    },
    attachments: [
      {
        id: '828593766336036894',
        filename: '20210405_133409.jpg',
        size: 220323,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/828593766336036894/20210405_133409.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/828593766336036894/20210405_133409.jpg',
        width: 1156,
        height: 867,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-05T11:35:49.099000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '828287458461483030',
    type: 0,
    content: '1:33,897 als eerste poging',
    channel_id: '824257306971471882',
    author: {
      id: '483322170420756480',
      username: 'DCS_Lionracing(Wim)',
      avatar: '56c82e8947fe725d240a77fd09bc8fae',
      discriminator: '1327',
      public_flags: 0,
    },
    attachments: [],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-04T15:18:38.934000+00:00',
    edited_timestamp: null,
    flags: 0,
  },
  {
    id: '828287257580142613',
    type: 0,
    content: '',
    channel_id: '824257306971471882',
    author: {
      id: '483322170420756480',
      username: 'DCS_Lionracing(Wim)',
      avatar: '56c82e8947fe725d240a77fd09bc8fae',
      discriminator: '1327',
      public_flags: 0,
    },
    attachments: [
      {
        id: '828287255067099157',
        filename: 'PS_App_20210404_031611.jpeg',
        size: 358813,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/828287255067099157/PS_App_20210404_031611.jpeg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/828287255067099157/PS_App_20210404_031611.jpeg',
        width: 1920,
        height: 1080,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-04T15:17:51.040000+00:00',
    edited_timestamp: null,
    flags: 0,
    reactions: [{ emoji: { id: null, name: '\ud83d\udcaa' }, count: 2, me: false }],
  },
  {
    id: '828286526227873822',
    type: 0,
    content: '',
    channel_id: '824257306971471882',
    author: {
      id: '614376382704910346',
      username: 'Jan Willem | GTJ-1982',
      avatar: null,
      discriminator: '2011',
      public_flags: 0,
    },
    attachments: [
      {
        id: '828286523409170442',
        filename: '20210404_171409.jpg',
        size: 1785138,
        url:
          'https://cdn.discordapp.com/attachments/824257306971471882/828286523409170442/20210404_171409.jpg',
        proxy_url:
          'https://media.discordapp.net/attachments/824257306971471882/828286523409170442/20210404_171409.jpg',
        width: 2880,
        height: 2160,
        content_type: 'image/jpeg',
      },
    ],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-04-04T15:14:56.672000+00:00',
    edited_timestamp: null,
    flags: 0,
    reactions: [
      { emoji: { id: null, name: '\ud83d\udc4c\ud83c\udffe' }, count: 3, me: false },
      { emoji: { id: null, name: '\ud83d\udc4f' }, count: 1, me: true },
    ],
  },
  {
    id: '824780727425433631',
    type: 0,
    content:
      'Hier alleen screenshots plaatsen van je gereden tijd. Andere berichten worden verwijderd.',
    channel_id: '824257306971471882',
    author: {
      id: '614376382704910346',
      username: 'Jan Willem | GTJ-1982',
      avatar: null,
      discriminator: '2011',
      public_flags: 0,
    },
    attachments: [],
    embeds: [],
    mentions: [],
    mention_roles: [],
    pinned: false,
    mention_everyone: false,
    tts: false,
    timestamp: '2021-03-25T23:04:09.103000+00:00',
    edited_timestamp: '2021-03-30T20:00:16.733000+00:00',
    flags: 0,
  },
]

describe('getBotRankingMessage', () => {
  it('should find the first bot message that contains the ranking', () => {
    expect(getBotRankingMessage(testData as any)).toEqual(botMessage)
  })
})
